# DSP部分

##ARM 端Spi


1. ARM端SPI的len需要设为实际值的2倍，原因不明。
2. DSP的txfifo当为空时会不断的进入中断从而影响程序正常运行，所以在isr的中断服务函数中，标志位不给清零以免下次进入中断。暂时这么处理，还会再修改，这里只是记录一下。

## 命名规范
程序中的命名主要包括变量名，类型名，宏定义，自定义结构体或枚举成员名称，函数名等。

### 变量名

1. 慎用全局变量，除非不好实现
### 变量命名
1. 写成名词形式，比如 now_pos表示当前的位置信息。
2. 合理使用缩写，比如velocity写成vel, acceleration 写成acc等。
2. 使用小写加下划线的形式

 

**以后硬件电路新的改动会在这里说明！！**
----
## MAX195
BP/UP/SHDN 管脚1应该接5V.

## 注意事项
### 电源芯片
U5 芯片发热严重，U8适中。

### SPI通信
1. 由于硬件原因，SPISTE(片选信号）默认使用GPIO57，只有我使用的实验板用的GPIO19特此说明。
2. ARM端与FPGA的4根IO线全都切断了，此外，ARM除了与DSP的4根SPI通信线，其他信号线已被切断。原因是避免影响到ARM开放板正常工作。